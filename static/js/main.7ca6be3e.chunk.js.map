{"version":3,"sources":["components/MovieItem.jsx","utils/constants.js","components/NavTabs.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","props","state","willWatch","this","movie","removeItem","willWatchItem","removeMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","onClick","bind","setState","Component","NavTabs","nextProps","nextStates","sortBy","updateSortBy","handleClick","value","getClassLink","App","getMovies","fetch","then","response","json","data","movies","results","filter","item","id","updatedWillWatch","moviesWillWatch","prevProps","prevStates","map","key","length","vote_average","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7ca6be3e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { image_path as IMAGE_PATH } from \"../utils/constants\";\n\nclass MovieItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      willWatch: false\n    };\n  }\n  render() {\n    const {\n      movie,\n      removeItem,\n      willWatchItem,\n      removeMovieFromWillWatch\n    } = this.props;\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={`${IMAGE_PATH}${movie.backdrop_path || movie.poster_path}`}\n          alt={movie.title}\n        />\n        <div className=\"card-body\">\n          <p className=\"catd-title\">{movie.title}</p>\n          <div className=\"d-flex justify-content-between\">\n            <button\n              className=\"btn btn-primary btn-sm\"\n              onClick={removeItem.bind(this, movie)}\n            >\n              Remove movie\n            </button>\n            <button\n              className={\n                this.state.willWatch\n                  ? \"btn btn-success btn-sm\"\n                  : \"btn btn-secondary btn-sm\"\n              }\n              onClick={() => {\n                this.state.willWatch\n                  ? removeMovieFromWillWatch(movie)\n                  : willWatchItem(movie);\n                this.setState({ willWatch: !this.state.willWatch });\n              }}\n            >\n              {this.state.willWatch\n                ? \"Remove from will watch\"\n                : \"Add to will watch\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","export const image_path='https://image.tmdb.org/t/p/w300';","import React, { Component } from \"react\";\n\nclass NavTabs extends Component {\n\n  shouldComponentUpdate(nextProps, nextStates) {\n    if (nextProps !== this.props) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  render() {\n    const { sortBy, updateSortBy } = this.props;\n\n    const handleClick = value => () => {\n      updateSortBy(value);\n    };\n\n    const getClassLink = value => {\n      return `nav-link ${sortBy === value ? \"active\" : \"\"}`;\n    };\n\n    return (\n      <ul className=\"nav nav-tabs card-header-tabs\">\n        <li className=\"nav-item\">\n          <div\n            className={getClassLink(\"popularity.desc\")}\n            onClick={handleClick(\"popularity.desc\")}\n          >\n            Popularity\n          </div>\n        </li>\n        <li className=\"nav-item\">\n          <div\n            className={getClassLink(\"revenue.desc\")}\n            onClick={handleClick(\"revenue.desc\")}\n          >\n            Revenue\n          </div>\n        </li>\n        <li className=\"nav-item\">\n          <div\n            className={getClassLink(\"vote_average.desc\")}\n            onClick={handleClick(\"vote_average.desc\")}\n          >\n            Vote average\n          </div>\n        </li>\n      </ul>\n    );\n  }\n}\n\nexport default NavTabs;\n","import React, { Component } from \"react\";\nimport MovieItem from \"./MovieItem\";\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\nimport NavTabs from \"./NavTabs\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sortBy: \"popularity.desc\"\n    };\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  getMovies = () => {\n    fetch(\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sortBy}`\n    )\n      .then(response => {\n        return response.json();\n      })\n      .then(data => {\n        this.setState({\n          movies: data.results\n        });\n      });\n  };\n\n  updateSortBy = value =>\n    this.setState({\n      sortBy: value\n    });\n\n  removeItem = movie => {\n    this.setState({\n      movies: this.state.movies.filter(item => item.id !== movie.id)\n    });\n  };\n\n  willWatchItem = movie => {\n    const updatedWillWatch = [...this.state.moviesWillWatch, movie];\n    this.setState({\n      moviesWillWatch: updatedWillWatch\n    });\n  };\n\n  removeMovieFromWillWatch = movie => {\n    this.setState({\n      moviesWillWatch: this.state.moviesWillWatch.filter(\n        item => item.id !== movie.id\n      )\n    });\n  };\n\n  componentDidUpdate(prevProps, prevStates) {\n    if (prevStates.sortBy !== this.state.sortBy) {\n      this.getMovies();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"card text-center\">\n        <div className=\"card-header\">\n          <NavTabs\n            sortBy={this.state.sortBy}\n            updateSortBy={this.updateSortBy}\n          />\n        </div>\n        <div className=\"card-body\">\n          <div className=\"container\">\n            <div className=\"row mt-4\">\n              <div className=\"col-9\">\n                <div className=\"row\">\n                  {this.state.movies.map(movie => {\n                    return (\n                      <div className=\"col-4 mb-4\" key={movie.id}>\n                        <MovieItem\n                          movie={movie}\n                          removeItem={this.removeItem}\n                          willWatchItem={this.willWatchItem}\n                          removeMovieFromWillWatch={\n                            this.removeMovieFromWillWatch\n                          }\n                        />\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n              <div className=\"col-3\">\n                <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n                <ul className=\"list-group\">\n                  {this.state.moviesWillWatch.map(movie => (\n                    <li key={movie.id} className=\"list-group-item\">\n                      <div className=\"d-flex justify-content-between\">\n                        <p>{movie.title}</p>\n                        <p>{movie.vote_average}</p>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App.jsx';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}